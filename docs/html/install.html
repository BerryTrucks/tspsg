<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TSPSG: TSP Solver and Generator: TSPSG Installation Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="install">TSPSG Installation Guide </a></h1><dl class="author"><dt><b>Author:</b></dt><dd>Copyright &copy; 2007-2010 LÑ‘ppa &lt;contacts[at]oleksii[dot]name&gt; </dd></dl>
<dl class="rcs"><dt><b>Id</b></dt><dd>install.dox 111 2010-04-27 23:40:22Z laleppa </dd></dl>
<dl class="rcs"><dt><b>URL</b></dt><dd><a href="https://tspsg.svn.sourceforge.net/svnroot/tspsg/trunk/docs/dox/install.dox">https://tspsg.svn.sourceforge.net/svnroot/tspsg/trunk/docs/dox/install.dox</a> </dd></dl>
<p>Thank you for trying <b>TSPSG</b>. This document will guide you through the steps necessary to compile and run <b>TSPSG</b>.</p>
<hr/>
<h2><a class="anchor" id="i_toc">
Table of Contents</a></h2>
<ol type="1">
<li><a class="el" href="install.html#i_s1">REQUIREMENTS</a></li>
<li><a class="el" href="install.html#i_s2">ASSUMPTIONS</a></li>
<li><a class="el" href="install.html#i_s3">SUPPORTED PLATFORMS</a></li>
<li><a class="el" href="install.html#i_s4">BUILDING AND INSTALLATION</a><ol type="a">
<li><a class="el" href="install.html#i_s41">GENERAL INSTALLATION PROCEDURE</a></li>
<li><a class="el" href="install.html#i_s42">LINUX/UNIX</a></li>
<li><a class="el" href="install.html#i_s43">WINDOWS</a><ol type="i">
<li><a class="el" href="install.html#i_s431">USING MINGW</a></li>
<li><a class="el" href="install.html#i_s432">USING VISUAL STUDIO</a></li>
</ol>
</li>
<li><a class="el" href="install.html#i_s44">WINDOWS CE/MOBILE</a></li>
<li><a class="el" href="install.html#i_s45">SYMBIAN</a></li>
<li><a class="el" href="install.html#i_s46">OTHER PLATFORMS, SUPPORTED BY QT</a></li>
</ol>
</li>
<li><a class="el" href="install.html#i_s5">UNINSTALLATION</a></li>
<li><a class="el" href="install.html#i_s6">TROUBLESHOOTING</a><ol type="a">
<li><a class="el" href="install.html#i_s61">WINDRES.EXE CRASH</a></li>
</ol>
</li>
<li><a class="el" href="install.html#i_s7">NOTES</a></li>
<li><a class="el" href="install.html#i_s8">REFERNECES</a></li>
</ol>
<hr/>
<h2><a class="anchor" id="i_s1">
REQUIREMENTS</a></h2>
<p>To be able compile <b>TSPSG</b> you need to have <em>Qt libraries</em><a class="anchor" id="cr1"></a><sup><a class="el" href="install.html#r1">[1]</a></sup>. The minimum supported version of <em>Qt</em> is <b>4.4.0</b>. The recommended version is <b>4.5.x</b> or higher.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Please, note that there will be some regressions in functionality if your version of <em>Qt</em> is lower than the recommended.</dd></dl>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s2">
ASSUMPTIONS</a></h2>
<p>This guide assumes that you already have <em>Qt libraries</em> and all necessary prerequisites installed.</p>
<p>Also, the following assumptions are made:</p>
<ul>
<li>For <b>Linux/UNIX</b>: <code>lrelease</code> and <code>qmake</code> are avilable in <code>$PATH</code>.</li>
<li>For <b>Windows</b> (<em>minGW</em>) and <b>Symbian:</b> you have installed <em>Qt SDK</em> or prebuilt libraries and have Start Menu items for Qt tools.</li>
<li>For <b>Windows</b> (<em>Visual Studio</em>) and <b>Windows Mobile</b>: the <em>Qt libraries</em> reside in <code>C:\Qt\</code>.</li>
<li>For <b>Windows Mobile</b>: <em>Windows Mobile 5.0 Pocket PC SDK</em> or later is installed.</li>
</ul>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s3">
SUPPORTED PLATFORMS</a></h2>
<p><b>TSPSG</b> is oficially supported and tested on the following platforms:</p>
<ul>
<li><b>Linux</b>: <em>Gentoo AMD64</em> and <em>Kubuntu 9.10 64-bit AMD</em>.</li>
<li><b>Windows</b>: <em>Windows XP 32-bit</em> and <em>Windows 7 64-bit</em>.</li>
<li><b>Windows Mobile</b>: <em>Windows Mobile 6.5 Professional Edition</em>.</li>
</ul>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s4">
BUILDING AND INSTALLATION</a></h2>
<h3><a class="anchor" id="i_s41">
GENERAL INSTALLATION PROCEDURE</a></h3>
<p>On most platforms the general building and installation procedure is:</p>
<ol type="1">
<li>Run <code>lrelease</code> to generate binary translation files (.qm) from the source (.ts).</li>
<li>Run <code>qmake</code> with <code>CONFIG+=release</code> parameter to generate makefiles.</li>
<li>Run make utility (e.g., <code>make</code>, <code>nmake</code>, <code>mingw32-make</code>) to build <b>TSPSG</b>.</li>
<li>Run make utility with <code>install</code> parameter.</li>
</ol>
<dl class="note"><dt><b>Note:</b></dt><dd>It is important to run <code>lrelease</code> before <code>qmake</code>, or <code>qmake</code> will not "pick up" the translations when generating installation rules.</dd></dl>
<hr/>
<h3><a class="anchor" id="i_s42">
LINUX/UNIX</a></h3>
<p>Open a shell, navigate to the directory where you have <b>TSPSG</b> source downloaded and type</p>
<div class="fragment"><pre class="fragment">
tar xvjf tspsg-&lt;VERSION&gt;-src.tar.bz2
cd tspsg-&lt;VERSION&gt;-src
</pre></div><p>where &lt;VERSION&gt; is the version of <b>TSPSG</b> you downloaded. Now run</p>
<div class="fragment"><pre class="fragment">
lrelease tspsg.pro
qmake tspsg.pro
make
</pre></div><p>In some cases you may need to type</p>
<div class="fragment"><pre class="fragment">
qmake tspsg.pro CONFIG+=release
</pre></div><p>If make step finished without errors you can install <b>TSPSG</b> by running</p>
<div class="fragment"><pre class="fragment">
sudo make install
</pre></div><p>or</p>
<div class="fragment"><pre class="fragment">
su
make install
</pre></div><p>depending on your distribution.</p>
<p>By default, executable will go to <code>/usr/bin</code>, <code>COPYING.txt</code> and <code>README.txt</code> will go to <code>/usr/share/TSPSG</code>, translations will go <code>/usr/share/TSPSG/l10n</code>, all docs will go to <code>/usr/share/doc/TSPSG-&lt;VERSION&gt;</code>.</p>
<hr/>
<h3><a class="anchor" id="i_s43">
WINDOWS</a></h3>
<dl class="note"><dt><b>Note:</b></dt><dd>Please, read the section <a class="el" href="install.html#i_s7">NOTES</a> after reading this section.</dd></dl>
<h4><a class="anchor" id="i_s431">
USING MINGW</a></h4>
<p>Unpack the downloaded source code of <b>TSPSG</b> with your favourite compression software. Now launch the <em>Qt Command Prompt</em> from the Start Menu, navigate to the directory where you unpacked the source and run</p>
<div class="fragment"><pre class="fragment">
lrelease tspsg.pro
qmake tspsg.pro CONFIG+=release
mingw32-make
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>Make process may fail with a crash of <code>windres.exe</code>. If you've run into this issue, please, read the section <a class="el" href="install.html#i_s61">WINDRES.EXE CRASH</a>.</dd></dl>
<p>If make step finished without errors you can install <b>TSPSG</b> by running</p>
<div class="fragment"><pre class="fragment">
mingw32-make install
</pre></div><p><b>TSPSG</b> will be installed to <code>%PROGRAMFILES%\TSPSG</code> folder (usually, it is <code>C:\Program Files\TSPSG</code>).</p>
<h4><a class="anchor" id="i_s432">
USING VISUAL STUDIO</a></h4>
<p>Unpack the downloaded source code of <b>TSPSG</b> with your favourite compression software. Now launch the <em>Visual Studio Command Prompt</em> from the Start Menu, navigate to the directory where you unpacked the source and run</p>
<div class="fragment"><pre class="fragment">
C:\Qt\bin\lrelease tspsg.pro
C:\Qt\bin\qmake tspsg.pro CONFIG+=release
nmake
</pre></div><p>If make step finished without errors you can install <b>TSPSG</b> by running</p>
<div class="fragment"><pre class="fragment">
nmake install
</pre></div><p><b>TSPSG</b> will be installed to <code>%PROGRAMFILES%\TSPSG</code> folder (usually, it is <code>C:\Program Files\TSPSG</code>).</p>
<hr/>
<h3><a class="anchor" id="i_s44">
WINDOWS CE/MOBILE</a></h3>
<p>Unpack the downloaded source code of <b>TSPSG</b> with your favourite compression software. Now launch the <em>Visual Studio Command Prompt</em> from the Start Menu and run</p>
<div class="fragment"><pre class="fragment">
set PATH=C:\Qt\bin;\%PATH\%
setcepaths wincewm50pocket-msvc2008
</pre></div><p>Now navigate to the directory where you unpacked the source and run</p>
<div class="fragment"><pre class="fragment">
lrelease tspsg.pro
qmake tspsg.pro CONFIG+=release
nmake
</pre></div><p>There is no automated installation process for Windows Mobile build. To install <b>TSPSG</b> on your PDA you need to create a folder on your device and copy the following files to it:</p>
<ul>
<li><b>tspsg.exe</b> from <code>release</code> folder in the source directory.</li>
<li><b>QtCore4.dll</b> and <code>QtGui4.dll</code> from <code>C:\Qt\bin</code> folder.</li>
<li><b>msvcr90.dll</b> from <code>C:\Program Files\Microsoft Visual Studio 9.0\VC\ce\dll\armv4i</code> folder.</li>
<li>all <b>*.qm</b> files from <code>l10n</code> folder in the source directory to <code>l10n</code> subfolder.</li>
</ul>
<hr/>
<h2><a class="anchor" id="i_s45">
SYMBIAN</a></h2>
<p>Unpack the downloaded source code of <b>TSPSG</b> with your favourite compression software. Now launch the <em>Qt for Symbian Command Prompt</em> from the Start Menu, navigate to the directory where you unpacked the source and run</p>
<div class="fragment"><pre class="fragment">
lrelease tspsg.pro
qmake tspsg.pro CONFIG+=release
make release-gcce
</pre></div><dl class="warning"><dt><b>Warning:</b></dt><dd>You need to unpack the source to the <em>same drive</em> as <em>Symbian SDK</em> and the path <em>must not contain any spaces</em> or <b>TSPSG</b> won't build.</dd></dl>
<p>If make step finished without errors you can generate sis installation file by running</p>
<div class="fragment"><pre class="fragment">
make sis
</pre></div><p>You'll get <code>tspsg.sis</code> file in the source directory. Copy it to your phone and run or install it using <em>Nokia PC Suite</em>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>You need to install <em>Qt libraries</em> on your device before installing <b>TSPSG</b>. Usually, it should be enough to install <code>qt_installer.sis</code> from the Qt installation directory.</dd></dl>
<p>Alternatively, if you have installed <em>Nokia Smart Installer</em><a class="anchor" id="cr2"></a><sup><a class="el" href="install.html#r2">[2]</a></sup> you can run</p>
<div class="fragment"><pre class="fragment">
make installer_sis
</pre></div><p>You'll get an <code>tspsg_installer.sis</code> that will automatically download and install the required <em>Qt libraries</em> on <b>TSPSG</b> installation.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Please, be aware that you have to sign the sis file to be able to install it on your device. You can use <em>Open Signed Online</em><a class="anchor" id="cr3"></a><sup><a class="el" href="install.html#r3">[3]</a></sup> to quickly sign the sis file for your device. Alternatively, you can try to enable the installation of self-signed files in the phone settings. Please, reffer to your phone manual on the instructions how to do this.</dd></dl>
<hr/>
<h3><a class="anchor" id="i_s46">
OTHER PLATFORMS, SUPPORTED BY QT</a></h3>
<p>While <b>TSPSG</b> is oficially supported only on <b>Linux</b>, <b>Windows</b> and <b>Windows Mobile</b> it should be possible to compile it on any platform, supported by <em>Qt</em>. To do so, please, refer to the section <a class="el" href="install.html#i_s41">GENERAL INSTALLATION PROCEDURE</a> for the general build and installation procedure.</p>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s5">
UNINSTALLATION</a></h2>
<p>Usually, it is enough to replace <code>install</code> parameter with <code>uninstall</code> in the installation command from the section <a class="el" href="install.html#i_s4">BUILDING AND INSTALLATION</a>. Alternatively, you can manually delete all installed <b>TSPSG</b> files and directories.</p>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s6">
TROUBLESHOOTING</a></h2>
<h3><a class="anchor" id="i_s61">
WINDRES.EXE CRASH</a></h3>
<p>When building under <b>Windows</b> using <em>minGW</em> toolchain make process may fail with <code>windres.exe</code> crash (access violation). This is a known bug in <code>windres.exe</code> regarding processing resource files with <code>UTF-8</code> (<code>cp65001</code>) encoding<a class="anchor" id="cr4"></a><sup><a class="el" href="install.html#r4">[4]</a></sup>. To be able to successfully build <b>TSPSG</b> you will need to download and replace <code>windres.exe</code> with a fixed version. To do this:</p>
<ol type="1">
<li>Open <a href="https://sourceforge.net/projects/mingw/files/">https://sourceforge.net/projects/mingw/files/</a> in your favourite browser.</li>
<li>Find and download the latest version of <em>GNU Binutils</em>. At the time of writing this guide it was <code>binutils-2.20.1-2-mingw32-bin.tar.gz</code>.</li>
<li>Unpack the file <code>bin\windres.exe</code> from the downloaded archive to <code>&lt;Your Qt installation path&gt;\mingw\bin\</code> replacing the existing one.</li>
<li>Now run <div class="fragment"><pre class="fragment">
mingw32-make distclean
</pre></div> in the <b>TSPSG</b> directory and repeat the installation process.</li>
</ol>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s7">
NOTES</a></h2>
<p><code>qmake</code> doesn't always enclose installation paths in quotes. This may cause some files not to be installed or removed when their path contains spaces. In this case it is safe to delete these files and <b>TSPSG</b> installation directory manually.</p>
<hr/>
<hr/>
<h2><a class="anchor" id="i_s8">
REFERNECES</a></h2>
<ol type="1">
<li><a class="anchor" id="r1"></a> <a class="el" href="install.html#cr1">^</a> <a href="http://qt.nokia.com/">http://qt.nokia.com/</a></li>
<li><a class="anchor" id="r2"></a> <a class="el" href="install.html#cr1">^</a> <a href="http://qt.nokia.com/developer/nokia-smart-installer-for-symbian">http://qt.nokia.com/developer/nokia-smart-installer-for-symbian</a></li>
<li><a class="anchor" id="r3"></a> <a class="el" href="install.html#cr2">^</a> <a href="https://www.symbiansigned.com/app/page/public/openSignedOnline.do">https://www.symbiansigned.com/app/page/public/openSignedOnline.do</a></li>
<li><a class="anchor" id="r4"></a> <a class="el" href="install.html#cr3">^</a> <a href="http://sourceware.org/bugzilla/show_bug.cgi?id=10165">http://sourceware.org/bugzilla/show_bug.cgi?id=10165</a> </li>
</ol>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Apr 28 03:09:51 2010 for TSPSG: TSP Solver and Generator by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
